<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>äººç”Ÿå¤ç›˜æµ‹è¯„</title>
  <style>
  body {
    font-family: "HarmonyOS Sans", "Helvetica Neue", sans-serif;
    background: linear-gradient(135deg, #f0f6ff, #eaf3fb);
    margin: 0;
    padding: 2rem;
    color: #333;
  }

  h1 {
    font-size: 2rem;
    text-align: center;
    margin-bottom: 2rem;
    color: #007aff;
  }

  .question {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
    padding: 2rem;
    max-width: 600px;
    margin: 0 auto 2rem auto;
    transition: all 0.3s ease;
  }

  .question h2 {
    font-size: 1.2rem;
    color: #333;
  }

  .options button {
    display: block;
    margin: 1rem 0;
    padding: 1rem;
    font-size: 1rem;
    background: #ffffff;
    border: 1px solid #ccc;
    border-radius: 8px;
    cursor: pointer;
    width: 100%;
    max-width: 100%;
    transition: all 0.2s ease;
  }

  .options button:hover {
    background-color: #f0f8ff;
    border-color: #007aff;
    color: #007aff;
  }

  .options button:active {
    transform: scale(0.98);
    background-color: #e0f0ff;
  }

  .hidden {
    display: none;
  }

  #result {
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    padding: 2rem;
    max-width: 700px;
    margin: 0 auto;
    text-align: center;
  }

  #result img {
    max-width: 100%;
    border-radius: 12px;
    margin: 1rem 0;
  }

  #restart {
    margin-top: 2rem;
    padding: 0.8rem 1.5rem;
    border: none;
    background: #007aff;
    color: white;
    font-weight: bold;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s ease;
  }

  #restart:hover {
    background: #005fcc;
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

</head>
<body>

  <div style="text-align: center;">
    <img src="logo.png" alt="äººç”Ÿå¤ç›˜ LOGO" style="height: 50px; margin-bottom: 0.5rem;" />
    <h1 style="font-size: 2rem; font-weight: bold; color: #007aff;">äººç”Ÿå¤ç›˜æµ‹è¯„</h1>
  </div>
  <div id="progress" style="text-align:center; margin: 1rem 0; font-size: 1rem; color: #555;"></div>

  <div id="quiz"></div>
  <div id="result" class="hidden"></div>

  <script>

    const questions = [
      { text: "å½“ä½ é¢å¯¹çªå‘äº‹ä»¶æ—¶ï¼Œä½ ä¼šï¼š", options: [
        { text: "é©¬ä¸Šåšå†³å®š", tag: "å†²åŠ¨å‹" },
        { text: "æ‹–åˆ°ä¸èƒ½å†æ‹–æ‰åº”å¯¹", tag: "æ‹–å»¶å‹" },
        { text: "å…ˆç„¦è™‘ä¸€ç•ªå†å‹‰å¼ºåº”å¯¹", tag: "å†…è€—å‹" },
        { text: "å›é¿ï¼Œä¸å¤„ç†", tag: "åå¤å‹" },
      ]},
      { text: "åˆ†æ‰‹/å¤±ä¸šåï¼Œä½ çš„ç¬¬ä¸€ä¸ªååº”æ˜¯ï¼š", options: [
        { text: "å¼€å§‹æ–°çš„å°è¯•", tag: "æˆé•¿å‹" },
        { text: "æ‰¾å‰ä»»/æ—§è€æ¿å¤ç›˜é—®é¢˜", tag: "æˆé•¿å‹" },
        { text: "è‡ªè´£+æ²‰æººè´Ÿé¢æƒ…ç»ª", tag: "å†…è€—å‹" },
        { text: "èŠ±é’±/åˆ·è§†é¢‘ç¼“è§£", tag: "å†²åŠ¨å‹" },
      ]},
      { text: "æ¯æ¬¡å¤±è´¥åï¼Œä½ ä¼šï¼š", options: [
        { text: "åå¤å‘Šè¯‰è‡ªå·±â€œæˆ‘ä¸è¯¥è¿™æ ·åšâ€", tag: "å†…è€—å‹" },
        { text: "ä¸‹æ¬¡è¿˜åšä¸€æ ·çš„äº‹", tag: "åå¤å‹" },
        { text: "å†™æ€»ç»“å¹¶é¿å…", tag: "æˆé•¿å‹" },
        { text: "éª‚è‡ªå·±å‡ å¥ç„¶åç»§ç»­å‰è¿›", tag: "å†²åŠ¨å‹" },
      ]},
      { text: "é¢å¯¹éœ€è¦é€‰æ‹©çš„è´­ç‰©å†³ç­–ï¼Œä½ ï¼š", options: [
        { text: "ç§’ä¸‹å•ï¼Œäº‹ååæ‚”", tag: "å†²åŠ¨å‹" },
        { text: "çœ‹äº†åˆçœ‹ï¼Œè¿Ÿè¿Ÿä¸ä¸‹å•", tag: "æ‹–å»¶å‹" },
        { text: "æŠ“ä¸€ä¸ªæœ‹å‹å’¨è¯¢åç…§åš", tag: "åå¤å‹" },
        { text: "åšé¢„ç®—ã€å¯¹æ¯”åå†ä¹°", tag: "æˆé•¿å‹" },
      ]},
      { text: "ä½ å’Œä¼´ä¾£åµæ¶åï¼Œä½ ä¼šï¼š", options: [
        { text: "æ‹‰é»‘/å†·å¤„ç†", tag: "å†²åŠ¨å‹" },
        { text: "å¿ç€ä½†å¿ƒç†å†…è€—", tag: "å†…è€—å‹" },
        { text: "æ¯æ¬¡éƒ½è¿™æ ·ï¼Œä¹Ÿä¹ æƒ¯äº†", tag: "åå¤å‹" },
        { text: "å›æƒ³äº‰æ‰§æ ¹æºã€æ”¹å–„æ²Ÿé€šæ–¹å¼", tag: "æˆé•¿å‹" },
      ]},
      { text: "é¢å¯¹é‡è¦è€ƒè¯•/é¢è¯•ï¼Œä½ ï¼š", options: [
        { text: "ä¸´æ—¶æŠ±ä½›è„š", tag: "å†²åŠ¨å‹" },
        { text: "æ‹–å»¶å‡†å¤‡ï¼Œç›´åˆ°å‰ä¸€å¤©æ‰è¡ŒåŠ¨", tag: "æ‹–å»¶å‹" },
        { text: "ç„¦è™‘+å¤±çœ +è„‘å†…è¿‡åº¦æ¨¡æ‹Ÿ", tag: "å†…è€—å‹" },
        { text: "åˆ¶å®šè®¡åˆ’ã€æŒ‰éƒ¨å°±ç­å¤ä¹ ", tag: "æˆé•¿å‹" },
      ]},
      { text: "å¦‚æœè¿‡å»3ä¸ªæœˆä½ åšé”™äº†ä¸€ä»¶äº‹ï¼Œä½ æ›´å¯èƒ½ï¼š", options: [
        { text: "å¿˜äº†", tag: "å†²åŠ¨å‹" },
        { text: "é‡å¤åšåŒæ ·çš„äº‹", tag: "åå¤å‹" },
        { text: "ä¼šå¤ç›˜ï¼Œä½†ä¸‹æ¬¡ä¸ä¸€å®šæ”¹", tag: "å†…è€—å‹" },
        { text: "å†™ä¸‹æ¥é¿å…é‡çŠ¯", tag: "æˆé•¿å‹" },
      ]},
      { text: "æ¯æ¬¡æƒ…ç»ªä½è½æ—¶ä½ ä¼šï¼š", options: [
        { text: "ç©æ‰‹æœº/å–é…’/è´­ç‰©", tag: "å†²åŠ¨å‹" },
        { text: "æ‹–ç€ä¸å¤„ç†", tag: "æ‹–å»¶å‹" },
        { text: "ä¸€è¾¹æƒ³å¤ªå¤šä¸€è¾¹ä»€ä¹ˆéƒ½ä¸åš", tag: "å†…è€—å‹" },
        { text: "æ‰¾äººå€¾è¯‰æˆ–è®°å½•æƒ…ç»ªåŸå› ", tag: "æˆé•¿å‹" },
      ]},
      { text: "ä½ è§‰å¾—æœ€å¸¸å›°ä½ä½ çš„æ˜¯ï¼Ÿ", options: [
        { text: "å¿ä¸ä½è¡ŒåŠ¨", tag: "å†²åŠ¨å‹" },
        { text: "æ‹–å»¶+é”™è¿‡æ—¶æœº", tag: "æ‹–å»¶å‹" },
        { text: "æƒ…ç»ªå†…è€—è¿‡é‡", tag: "å†…è€—å‹" },
        { text: "æ€»æ˜¯å›åˆ°æ—§é—®é¢˜", tag: "åå¤å‹" },
      ]},
      { text: "å¦‚æœäººç”Ÿå¯ä»¥å›æº¯ï¼Œä½ æœ€å¸Œæœ›æ”¹çš„æ˜¯ï¼Ÿ", options: [
        { text: "é‚£äº›å†²åŠ¨çš„å†³å®š", tag: "å†²åŠ¨å‹" },
        { text: "æ›¾ç»æµªè´¹çš„æ—¶é—´", tag: "æ‹–å»¶å‹" },
        { text: "çŠ¹è±«+çº ç»“é”™å¤±çš„æœºä¼š", tag: "å†…è€—å‹" },
        { text: "ä¸€ç›´é‡å¤çŠ¯çš„é”™è¯¯", tag: "åå¤å‹" },
      ]},
      { text: "é¢å¯¹ä»–äººå»ºè®®ä½ é€šå¸¸ï¼š", options: [
        { text: "å¬ä¸€åŠå°±æŒ‰è‡ªå·±æ–¹å¼åš", tag: "å†²åŠ¨å‹" },
        { text: "æ‹–ç€ä¸åŠ¨", tag: "æ‹–å»¶å‹" },
        { text: "ç…§åšå´å†…å¿ƒæŠ—æ‹’", tag: "å†…è€—å‹" },
        { text: "ç»“åˆç°å®åç†æ€§é‡‡çº³", tag: "æˆé•¿å‹" },
      ]},
      { text: "ä½ æ˜¯å¦æœ‰å†™è¿‡ç±»ä¼¼å¤ç›˜æ€»ç»“çš„è®°å½•ï¼Ÿ", options: [
        { text: "æ²¡å†™è¿‡", tag: "åå¤å‹" },
        { text: "å†™è¿‡1~2æ¬¡åæ”¾å¼ƒäº†", tag: "å†…è€—å‹" },
        { text: "æ­£åœ¨æŒç»­è®°å½•ä¸­", tag: "æˆé•¿å‹" },
        { text: "æ¯æ¬¡åšå®Œå°±å¿˜", tag: "å†²åŠ¨å‹" },
      ]},
    ];

    const scores = { "å†²åŠ¨å‹": 0, "æ‹–å»¶å‹": 0, "å†…è€—å‹": 0, "åå¤å‹": 0, "æˆé•¿å‹": 0 };
    let current = 0;

    const quiz = document.getElementById("quiz");
    const result = document.getElementById("result");

    const imageMap = {
      "å†²åŠ¨å‹": "replay-test-game/img/impulsive.png",
      "æ‹–å»¶å‹": "replay-test-game/img/delayer.png",
      "å†…è€—å‹": "replay-test-game/img/internal.png",
      "åå¤å‹": "replay-test-game/img/repeat.png",
      "æˆé•¿å‹": "replay-test-game/img/growth.png"
    };

    const descriptions = {
      "å†²åŠ¨å‹": {
        title: "ä½ æ˜¯ã€å†²åŠ¨å‹ã€‘ï¼šå†³ç­–å¿«ï¼Œä½†å¸¸åæ‚”",
        desc: "ä½ å€¾å‘äºå¿«é€Ÿåšå†³å®šï¼Œä½†äº‹åå¸¸æ„Ÿåˆ°åæ‚”ã€‚ä½ åšäº‹è®²ç©¶æ•ˆç‡ï¼Œä½†æœ‰æ—¶ç¼ºä¹æ·±æ€ç†Ÿè™‘ã€‚ä½ çš„ä¼˜åŠ¿åœ¨äºæœæ–­ï¼Œç¼ºç‚¹åœ¨äºå®¹æ˜“å—æƒ…ç»ªé©±åŠ¨è€Œå¿½ç•¥åæœã€‚",
        suggestion: "å»ºè®®ä½ åœ¨åšé‡è¦å†³ç­–å‰ï¼Œè®¾å®š10åˆ†é’Ÿå†·é™æ€è€ƒæ—¶é—´ï¼Œåˆ—å‡ºå¯èƒ½åæœï¼Œé¿å…å†²åŠ¨å¸¦æ¥çš„æŸå¤±ã€‚"
      },
      "æ‹–å»¶å‹": {
        title: "ä½ æ˜¯ã€æ‹–å»¶å‹ã€‘ï¼šæ€è€ƒå¤šï¼Œè¡ŒåŠ¨æ…¢",
        desc: "ä½ å¸¸å¸¸æ˜çŸ¥é“è¦åšæŸä»¶äº‹ï¼Œå´ä¹ æƒ¯æ€§åœ°ä¸€æ‹–å†æ‹–ã€‚ä½ å¯èƒ½å¯¹ä»»åŠ¡çš„å®Œç¾è¦æ±‚è¿‡é«˜ï¼Œä»è€Œå¯¼è‡´æ— æ³•åŠæ—¶å¼€å§‹ã€‚",
        suggestion: "å»ºè®®é‡‡ç”¨â€œç•ªèŒ„å·¥ä½œæ³•â€ï¼Œå°†ä»»åŠ¡åˆ†å—ï¼Œæ¯æ¬¡25åˆ†é’Ÿä¸“æ³¨æ‰§è¡Œï¼Œé€æ­¥å»ºç«‹è¡ŒåŠ¨åŠ›ã€‚"
      },
      "å†…è€—å‹": {
        title: "ä½ æ˜¯ã€å†…è€—å‹ã€‘ï¼šé«˜æ•æ„Ÿï¼Œä½æ•ˆç‡",
        desc: "ä½ åœ¨åšå†³å®šå‰å®¹æ˜“é™·å…¥åå¤çº ç»“ï¼Œå¹¶åœ¨å†³å®šååå¤è´¨ç–‘è‡ªå·±ã€‚ä½ æ€è€ƒæ·±å…¥ä½†å¸¸è¢«æƒ…ç»ªå†…è€—å›°ä½ã€‚",
        suggestion: "å»ºè®®ä½ ç»ƒä¹ è®°å½•æƒ…ç»ªè§¦å‘ç‚¹ï¼Œå¹¶è®¾å®šæ¯å¤©ä¸€æ¬¡çš„æ­£é¢è‡ªæˆ‘è‚¯å®šç»ƒä¹ ï¼Œå‡è½»å†…åœ¨æ‰¹åˆ¤ã€‚"
      },
      "åå¤å‹": {
        title: "ä½ æ˜¯ã€åå¤å‹ã€‘ï¼šæ˜çŸ¥é—®é¢˜ï¼Œå´åå¤è¸©å‘",
        desc: "ä½ ä¼šåœ¨ä¸åŒé˜¶æ®µé‡å¤ç±»ä¼¼çš„é”™è¯¯ï¼Œè™½ç„¶æ„è¯†åˆ°é—®é¢˜æ‰€åœ¨ï¼Œä½†å¾ˆéš¾ä»æ ¹æºä¸Šæ”¹å˜è¡Œä¸ºä¹ æƒ¯ã€‚",
        suggestion: "å»ºè®®ä½ åˆ¶ä½œâ€˜é”™è¯¯å¤ç›˜è¡¨â€™ï¼Œè®°å½•æ¯æ¬¡å¤±è¯¯çš„åŸå› åŠåº”å¯¹ç­–ç•¥ï¼Œæå‡è§‰å¯Ÿä¸è¡ŒåŠ¨ä¸€è‡´æ€§ã€‚"
      },
      "æˆé•¿å‹": {
        title: "ä½ æ˜¯ã€æˆé•¿å‹ã€‘ï¼šåæ€è€…ï¼Œç²¾è¿›è€…",
        desc: "ä½ å–„äºåæ€ï¼Œä¹Ÿæ„¿æ„åœ¨è¯•é”™ä¸­ä¸æ–­ä¼˜åŒ–è‡ªå·±ã€‚ä½ èƒ½ä»é”™è¯¯ä¸­æ€»ç»“ç»éªŒï¼Œè°ƒæ•´æ–¹å‘ï¼ŒæŒç»­è¿›æ­¥ã€‚",
        suggestion: "å»ºè®®ä½ ä¿æŒæ¯æœˆä¸€æ¬¡çš„å¤ç›˜å†™ä½œï¼Œè®°å½•æˆé•¿ç‚¹ä¸å¤±è´¥ç‚¹ï¼Œç³»ç»Ÿæ¢³ç†æˆé•¿è½¨è¿¹ã€‚"
      }
    };
    
    function renderQuestion() {

      document.getElementById("progress").innerText = `ç¬¬ ${current + 1} / ${questions.length} é¢˜`;

      const q = questions[current];
      quiz.innerHTML = `<div class="question"><h2>${q.text}</h2><div class="options"></div></div>`;
      const optionsDiv = quiz.querySelector(".options");
      q.options.forEach(opt => {
        const btn = document.createElement("button");
        btn.textContent = opt.text;
        btn.onclick = () => {
          scores[opt.tag]++;
          current++;
          if (current < questions.length) {
            renderQuestion();
          } else {
            showResult();
          }
        };
        optionsDiv.appendChild(btn);
      });
    }

  function showResult() {
      quiz.classList.add("hidden");
      const maxTag = Object.entries(scores).sort((a, b) => b[1] - a[1])[0][0];
      const data = descriptions[maxTag];
      result.classList.remove("hidden");
      result.innerHTML = `
  <div id="resultCard" style="background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
    <h2 style="font-size: 1.5rem; color: #007aff; margin-bottom: 1rem;">${data.title}</h2>
  <img src="${imageMap[maxTag]}" alt="${maxTag} ç»“æœå›¾" style="max-width: 100%; border-radius: 12px; margin-bottom: 1rem;" />
    <p style="font-size: 1.1rem; color: #333; line-height: 1.6;">${data.desc}</p>
  <div style="background: #f5faff; padding: 1.2rem; border-radius: 12px; margin-top: 2rem;">
      <h3 style="font-size: 1.2rem; color: #007aff; margin-bottom: 0.5rem;">ğŸŒ± è¡ŒåŠ¨å»ºè®®</h3>
      <p style="font-size: 1rem; color: #444; line-height: 1.6;">${data.suggestion}</p>
    </div>
  <p>${data.suggestion}</p>
  <button id='restart' style="margin-top: 2rem;">å†æµ‹ä¸€æ¬¡</button>
 <button onclick="downloadResult()" style="margin-left:1rem; background:#00c28b;">ä¿å­˜ä¸ºå›¾ç‰‡</button>
  </div>
  <div id="shareBlock" style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #ddd;">
    <p style="font-weight:bold;">ğŸ“£ åˆ†äº«ç»™æœ‹å‹ï¼š</p>
    <button onclick="copyLink()" style="padding: 0.5rem 1rem; margin: 0.3rem;">å¤åˆ¶æµ‹è¯•é“¾æ¥</button>
    <button onclick="showQR()" style="padding: 0.5rem 1rem; margin: 0.3rem;">æ˜¾ç¤ºå¾®ä¿¡äºŒç»´ç </button>
    <button onclick="showText()" style="padding: 0.5rem 1rem; margin: 0.3rem;">è·å–æœ‹å‹åœˆæ–‡æ¡ˆ</button>

    <div id="qr" style="margin-top: 1rem; display:none;">
      <img src="your-wechat-qr.png" alt="å¾®ä¿¡äºŒç»´ç " style="width: 150px;">
      <p style="font-size:0.85rem; color:#777;">é•¿æŒ‰è¯†åˆ«äºŒç»´ç </p>
    </div>

    <div id="shareText" style="margin-top: 1rem; display:none; background: #f8f9fb; padding: 1rem; border-radius: 8px; font-size: 0.9rem; color: #333;">
      ğŸŒŸæµ‹äº†ä¸€ä¸ªè¶…å‡†çš„äººç”Ÿå¤ç›˜ç³»ç»Ÿ<br>
      æˆ‘æ˜¯ã€${maxTag}ã€‘ï¼Œçœ‹çœ‹ä½ æ˜¯å“ªä¸€ç±»ï¼Ÿ<br>
      ğŸ”— ${location.href}
    </div>
  </div>
`;
      document.getElementById("restart").onclick = () => location.reload();

    // âœ… ä¸Šä¼ æµ‹è¯•ç»“æœåˆ° Google Sheetsï¼ˆé€šè¿‡ Sheety APIï¼‰
fetch("https://api.sheety.co/7b136ddd068b2f5ee3c7063a6a760256/test/sheet1", {
  method: "POST",
  headers: {
    "Content-Type": "application/json"
  },
  body: JSON.stringify({
    sheet1: {
      æ—¶é—´: new Date().toLocaleString(),
      ç±»å‹: maxTag,
      å†²åŠ¨å‹: scores["å†²åŠ¨å‹"],
      æ‹–å»¶å‹: scores["æ‹–å»¶å‹"],
      å†…è€—å‹: scores["å†…è€—å‹"],
      åå¤å‹: scores["åå¤å‹"],
      æˆé•¿å‹: scores["æˆé•¿å‹"]
    }
  })
})
.then(res => {
  console.log("âœ… æ•°æ®ä¸Šä¼ æˆåŠŸï¼ŒçŠ¶æ€ç ï¼š", res.status);
  return res.json();
})
.then(data => console.log("âœ… è¿”å›å†…å®¹ï¼š", data))
.catch(err => console.error("âŒ ä¸Šä¼ å¤±è´¥ï¼š", err));


    }
function copyLink() {
  navigator.clipboard.writeText('https://life-test-replay.vercel.app/').then(() => {
    alert("âœ… é“¾æ¥å·²å¤åˆ¶ï¼Œå¿«å»å‘æœ‹å‹åœˆæˆ–å¾®ä¿¡å§ï¼");
  });
}

function showQR() {
  document.getElementById("qr").style.display = "block";
}

function showText() {
  document.getElementById("shareText").style.display = "block";
}

    renderQuestion();
  </script>

</body>
</html>



